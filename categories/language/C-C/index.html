<!DOCTYPE html>
<html lang="zh-cmn-Hans">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Dylan&#39;s blog</title>
  
  
  
  <!--link rel="stylesheet" href="//cdn.jsdelivr.net/highlight.js/9.10.0/styles/github-gist.min.css"-->
  
<link rel="stylesheet" href="//cdn.jsdelivr.net/highlight.js/9.10.0/styles/github-gist.min.css">

  
<link rel="stylesheet" href="/css/style.css">

<meta name="generator" content="Hexo 6.3.0"></head>

<body>
<div class="Shell">
    <aside class='SideBar'>
    <section class='avatar' style="background-image: url()">
        <div class='av-pic' style="background-image: url(https://avatars.githubusercontent.com/u/13995319?v=4)">
        </div>
    </section>
    <section class='menu'>
        <div>Dylan&#39;s blog</div>
        
            <div>To the pursuit of truth.</div>
        
        <ul>
          
            <a href="/" class="Btn">
              <li>Home</li>
            </a>  
          
            <a href="/archives/" class="Btn">
              <li>Archive</li>
            </a>  
          
        </ul>
    </section>
    <section class="media">
        
    </section>
</aside>

    <div class="container">
        <div data-pager-shell>
            <ul class="Index">
  
    <header class='PageTitle'>
        <h1>{ C/C++ }</h1>
    </header>
  
  
    <li>
      <article class='ListView'>
    <header class="title">
      
        <h1>
          <a href="/2023/06/01/2023/2023-06-01_163201-3202/">macOS 应用正确签名并公证后分发依然提示“无法验证开发者”</a>
        </h1>
      
      <div class='ListMeta'>
  <time datetime="2023-06-01T16:32:01.000Z" itemprop="datePublished">
    2023-06-01
  </time>
  
  
  / 
  <ul>
    
  <li class="meta-text">
  { <a href="/categories/language/">language</a> }
  </li>

  <li class="meta-text">
  { <a href="/categories/language/C-C/">C/C++</a> }
  </li>


  </ul>
  
</div>

    </header>
    <div>
      
        <h2 id="问题现象"><a href="#问题现象" class="headerlink" title="问题现象"></a>问题现象</h2><p>应用使用正确的证书签名并使用 Apple 推荐的新公证手段公证后，将应用分发给其他人使用时，依然提示无法验证开发者，如下图所示：</p>
<div align="center">
<img src=/images/2023/06/Screenshot-2023-06-01-at-13.13.03.png width=30% />
</div>
        
          <div class="more-link">
            <a href="/2023/06/01/2023/2023-06-01_163201-3202/#more">Read On »</a>
          </div>
        
      
    </div>
</article>

    </li>
  
    <li>
      <article class='ListView'>
    <header class="title">
      
        <h1>
          <a href="/2023/04/26/2023/2023-04-26_100852-3189/">Qt6 QML 中渲染自定义视频帧的改进 2023-05-30 更新</a>
        </h1>
      
      <div class='ListMeta'>
  <time datetime="2023-04-26T10:08:52.000Z" itemprop="datePublished">
    2023-04-26
  </time>
  
  | 
  <ul>
    
  <li class="meta-text">
  { <a href="/tags/Qt/">Qt</a> }
  </li>

  <li class="meta-text">
  { <a href="/tags/Qt-Quick/">Qt Quick</a> }
  </li>


  </ul>
  
  
  / 
  <ul>
    
  <li class="meta-text">
  { <a href="/categories/language/">language</a> }
  </li>

  <li class="meta-text">
  { <a href="/categories/language/C-C/">C/C++</a> }
  </li>


  </ul>
  
</div>

    </header>
    <div>
      
        <p>最近在升级音视频的项目 Qt 版本，从 5.15.0 升级到 6.4.3（6.5 也一样），除了一些 QML 中删除了一些 Qt Quick Controls 1 的控件以外，最重要的就是自定义视频渲染的改进。</p>
        
          <div class="more-link">
            <a href="/2023/04/26/2023/2023-04-26_100852-3189/#more">Read On »</a>
          </div>
        
      
    </div>
</article>

    </li>
  
    <li>
      <article class='ListView'>
    <header class="title">
      
        <h1>
          <a href="/2022/12/09/2022/2022-12-09_182753-3163/">量化你团队的代码质量</a>
        </h1>
      
      <div class='ListMeta'>
  <time datetime="2022-12-09T18:27:53.000Z" itemprop="datePublished">
    2022-12-09
  </time>
  
  
  / 
  <ul>
    
  <li class="meta-text">
  { <a href="/categories/language/">language</a> }
  </li>

  <li class="meta-text">
  { <a href="/categories/language/C-C/">C/C++</a> }
  </li>


  </ul>
  
</div>

    </header>
    <div>
      
        <p>在疫情背景下各大公司都有所异动，toB 的团队企业内卷也越来越明显。此时此刻如果团队中的产品又出现各种低级问题无疑是雪上加霜。本文围绕团队在产品质量攻坚工作中做的一些质量检查手段，介绍如何让你团队的代码质量可以量化，并保留最珍贵、可维护、可持续、可传承的工程化代码。</p>
        
          <div class="more-link">
            <a href="/2022/12/09/2022/2022-12-09_182753-3163/#more">Read On »</a>
          </div>
        
      
    </div>
</article>

    </li>
  
    <li>
      <article class='ListView'>
    <header class="title">
      
        <h1>
          <a href="/2022/08/05/2022/2022-08-05_160056-3146/">Jenkins pipeline macOS agent 报错：cmake: command not found</a>
        </h1>
      
      <div class='ListMeta'>
  <time datetime="2022-08-05T16:00:56.000Z" itemprop="datePublished">
    2022-08-05
  </time>
  
  
  / 
  <ul>
    
  <li class="meta-text">
  { <a href="/categories/language/">language</a> }
  </li>

  <li class="meta-text">
  { <a href="/categories/language/C-C/">C/C++</a> }
  </li>


  </ul>
  
</div>

    </header>
    <div>
      
        <p>在一台 macOS 的 anget 中，我们的 pipeline 脚本一直报错：<code>cmake: command not found</code>，但实际系统中已经通过 brew 安装过 cmake。并且在系统中通过使用命令 <code>cmake --version</code> 也能显示正常版本。那是不是 cmake 所在的目录并不在 Jenkins agent 的环境变量中呢？为了验证这个问题我们在 Jenkinsfile 中增加一行打印当前环境变量信息的语句：</p>
        
          <div class="more-link">
            <a href="/2022/08/05/2022/2022-08-05_160056-3146/#more">Read On »</a>
          </div>
        
      
    </div>
</article>

    </li>
  
    <li>
      <article class='ListView'>
    <header class="title">
      
        <h1>
          <a href="/2022/04/09/2022/2022-04-09_164105-3116/">使用 Conan、CMake 组织跨平台 Qt 工程</a>
        </h1>
      
      <div class='ListMeta'>
  <time datetime="2022-04-09T16:41:05.000Z" itemprop="datePublished">
    2022-04-09
  </time>
  
  
  / 
  <ul>
    
  <li class="meta-text">
  { <a href="/categories/language/">language</a> }
  </li>

  <li class="meta-text">
  { <a href="/categories/language/C-C/">C/C++</a> }
  </li>


  </ul>
  
</div>

    </header>
    <div>
      
        <p>创建 Qt 工程时，我们通常使用 Qt 提供的 Online installer 安装 Qt Creator 和 Qt 库来创建、编译、发布 Qt 项目，这对开发环境和 CI Agent 环境有较强的要求，一旦环境安装不对或者安装时缺少了一些组件，可能导致无法编译出产物。最近一段时间，Qt 也拥抱 Conan，使我们可以通过 Conan 管理 Qt 库，这样我们就可以真正实现一套 CMake 脚本来管理和发布 Qt 的应用了。以下我们将演示如何通过 CMake + Conan 来组织 Qt 工程和实现程序的发布流程。</p>
        
          <div class="more-link">
            <a href="/2022/04/09/2022/2022-04-09_164105-3116/#more">Read On »</a>
          </div>
        
      
    </div>
</article>

    </li>
  
    <li>
      <article class='ListView'>
    <header class="title">
      
        <h1>
          <a href="/2021/08/31/2021/2021-08-31_140015-3046/">自定义 npm 包读取外部 npm install 时传入的命令行参数</a>
        </h1>
      
      <div class='ListMeta'>
  <time datetime="2021-08-31T14:00:15.000Z" itemprop="datePublished">
    2021-08-31
  </time>
  
  | 
  <ul>
    
  <li class="meta-text">
  { <a href="/tags/node/">node</a> }
  </li>

  <li class="meta-text">
  { <a href="/tags/npm/">npm</a> }
  </li>


  </ul>
  
  
  / 
  <ul>
    
  <li class="meta-text">
  { <a href="/categories/language/">language</a> }
  </li>

  <li class="meta-text">
  { <a href="/categories/language/C-C/">C/C++</a> }
  </li>


  </ul>
  
</div>

    </header>
    <div>
      
        <p>正常情况下我们安装一个 npm 包只需要执行 npm install 或者 yarn 就可以了，这基本上都是在发布环境。当我们自定义的 npm 包需要在测试阶段根据环境动态设置一些参数时就显得有些麻烦了。如果能在 npm install 时传递一些参数来提供内部 npm 包读取就会变的比较方便。本文介绍如何通过 npm install 增加的命令行参数和 <code>.npmrc</code> 来动态配置自定义 npm 包的行为。</p>
        
          <div class="more-link">
            <a href="/2021/08/31/2021/2021-08-31_140015-3046/#more">Read On »</a>
          </div>
        
      
    </div>
</article>

    </li>
  
    <li>
      <article class='ListView'>
    <header class="title">
      
        <h1>
          <a href="/2021/07/14/2021/2021-07-14_134016-3023/">node-pre-gyp 应用场景介绍及使用方法</a>
        </h1>
      
      <div class='ListMeta'>
  <time datetime="2021-07-14T13:40:16.000Z" itemprop="datePublished">
    2021-07-14
  </time>
  
  
  / 
  <ul>
    
  <li class="meta-text">
  { <a href="/categories/language/">language</a> }
  </li>

  <li class="meta-text">
  { <a href="/categories/language/C-C/">C/C++</a> }
  </li>


  </ul>
  
</div>

    </header>
    <div>
      
        <p>Node.js 提供了使用 C++ addon 方案作为扩展的能力。我们可以编写 C++ 的代码来扩展 Node.js 或封装自己产品相关的能力接口为 Node.js 接口提供用户或者开发者使用。将编写好的源代码上传至 npm publish 平台，开发者通过 npm install 就可以使用你的扩展包了。但使用的前提是引入方必须要具备编译 C++ 代码的环境，比如在 Windows 下需要安装 MSVC 的编译工具链。而正常的前端开发者并不会将这些组件安装到系统里面，他们更关注的是前端业务逻辑。</p>
        
          <div class="more-link">
            <a href="/2021/07/14/2021/2021-07-14_134016-3023/#more">Read On »</a>
          </div>
        
      
    </div>
</article>

    </li>
  
    <li>
      <article class='ListView'>
    <header class="title">
      
        <h1>
          <a href="/2021/03/12/2021/2021-03-12_173556-2965/">基于 git flow + gitlab 协作开发：02 解决问题</a>
        </h1>
      
      <div class='ListMeta'>
  <time datetime="2021-03-12T17:35:56.000Z" itemprop="datePublished">
    2021-03-12
  </time>
  
  
  / 
  <ul>
    
  <li class="meta-text">
  { <a href="/categories/language/">language</a> }
  </li>

  <li class="meta-text">
  { <a href="/categories/language/C-C/">C/C++</a> }
  </li>


  </ul>
  
</div>

    </header>
    <div>
      
        <p>上一篇文章中我们提到了在一个周维度或者月维度发布产品的小型协作项目中，会遇到各类协作上的问题，随着发布的越来越紧凑，问题也就越来越突出。本文主要对上一篇文章中提到的问题解决方案做细化，让大家可以清楚的知道如何通过合理的 git 工作流来解决这些问题，让原来发布时的手忙脚乱不再出现。通过 git flow 我们可以对项目做一个分支模型管理：</p>
<ul>
<li>master 固定，一致保持当前最新稳定的发布版本代码，在 CI&#x2F;CD 建设时，你可以只在该分支做签名、公证等一系列自动化流程</li>
<li>develop 固定，这是我们日常的开发分支，所有新功能分支都将合并到该分支</li>
<li>release&#x2F;* 可删，进入预发布阶段时基于 develop 创建的分支，再此基础集成，它名字可能是 release&#x2F;2.8.0，release&#x2F;2.9.0 等。</li>
<li>bugfix&#x2F;* 可删，这种分支一般情况下基于 develop 或者 release&#x2F;* 分支开出，作为简单的缺陷修复分支，最终合并到 develop 或 release&#x2F;* 分支中</li>
<li>hotfix&#x2F;* 可删，是对线上最新版本或长期服务版本做紧急修复时使用的分支，他不是常驻的</li>
</ul>
<p>说多不多，说少也不少，还没有了解 git-flow 的同学可能会有点不太好理解，下面就详细介绍每个分支类型是如何在我们平时工作协作中起到重要作用的。</p>
        
          <div class="more-link">
            <a href="/2021/03/12/2021/2021-03-12_173556-2965/#more">Read On »</a>
          </div>
        
      
    </div>
</article>

    </li>
  
    <li>
      <article class='ListView'>
    <header class="title">
      
        <h1>
          <a href="/2020/10/26/2020/2020-10-26_113857-2974/">Qt 通过自定义 URL Scheme 给已经运行的应用传参（Windows&amp;macOS）</a>
        </h1>
      
      <div class='ListMeta'>
  <time datetime="2020-10-26T11:38:57.000Z" itemprop="datePublished">
    2020-10-26
  </time>
  
  | 
  <ul>
    
  <li class="meta-text">
  { <a href="/tags/Qt/">Qt</a> }
  </li>


  </ul>
  
  
  / 
  <ul>
    
  <li class="meta-text">
  { <a href="/categories/platform/">platform</a> }
  </li>

  <li class="meta-text">
  { <a href="/categories/language/">language</a> }
  </li>

  <li class="meta-text">
  { <a href="/categories/language/C-C/">C/C++</a> }
  </li>

  <li class="meta-text">
  { <a href="/categories/platform/iOS-macOS/">iOS/macOS</a> }
  </li>

  <li class="meta-text">
  { <a href="/categories/platform/iOS-macOS/Windows/">Windows</a> }
  </li>


  </ul>
  
</div>

    </header>
    <div>
      
        <p>在传统的应用程序设计中，我们可以看到很多通过浏览器唤起本地应用的案例，比如百度网盘、迅雷等工具，他们在浏览器访问一个非 http&#x2F;https 协议开头的地址时，会自动打开其自己的应用程序并传递一定的参数。该功能的实现方式网络上有很多示例，在 Windows 和 macOS 不同平台下他们分别需要如下设置：</p>
        
          <div class="more-link">
            <a href="/2020/10/26/2020/2020-10-26_113857-2974/#more">Read On »</a>
          </div>
        
      
    </div>
</article>

    </li>
  
    <li>
      <article class='ListView'>
    <header class="title">
      
        <h1>
          <a href="/2020/08/31/2020/2020-08-31_004045-2948/">基于 git flow + gitlab 协作开发：01 抛出问题</a>
        </h1>
      
      <div class='ListMeta'>
  <time datetime="2020-08-31T00:40:45.000Z" itemprop="datePublished">
    2020-08-31
  </time>
  
  
  / 
  <ul>
    
  <li class="meta-text">
  { <a href="/categories/language/">language</a> }
  </li>

  <li class="meta-text">
  { <a href="/categories/language/C-C/">C/C++</a> }
  </li>


  </ul>
  
</div>

    </header>
    <div>
      
        <p>很久以来，我一直在寻找一个适合小型团队独立项目的 git 协同工作流。主要原因是实际工作中很难在繁忙的迭代中兼顾真正的协同和代码质量管理。造成的现象就是在一个以月维度发布版本的产品中出现各种各样的分支、hotfix。到底哪个是主线，哪个分支修复了哪些问题、不同的分支是否与主线同步更新都是未知数。如果不叫一个从开始就参与到项目中的人给你做介绍，很难去做维护。</p>
        
          <div class="more-link">
            <a href="/2020/08/31/2020/2020-08-31_004045-2948/#more">Read On »</a>
          </div>
        
      
    </div>
</article>

    </li>
  
</ul>

  <section id="nav-wrapper">
    <nav id="page-nav">
      <span class="page-number current">1</span><a class="page-number" href="/categories/language/C-C/page/2/">2</a><a class="page-number" href="/categories/language/C-C/page/3/">3</a><span class="space">&hellip;</span><a class="page-number" href="/categories/language/C-C/page/17/">17</a><a class="extend next" rel="next" href="/categories/language/C-C/page/2/">next »</a>
    </nav>
  </section>


            <footer>
    <div>© 2023 - Dylan </div>
    <div>
        <span>
            Powered by <a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a>
        </span>
        ,
        <span>
            Theme - <a target="_blank" rel="noopener" href="https://github.com/nameoverflow/hexo-theme-icalm">Icalm</a>
        </span>
    </div>
</footer>

        </div>
    </div>
</div>

<script src="/js/pager/dist/singlepager.js"></script>

<script>
var sp = new Pager('data-pager-shell')

</script>
</body>
</html>