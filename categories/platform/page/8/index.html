<!DOCTYPE html>
<html lang="zh-cmn-Hans">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Dylan&#39;s blog</title>
  
  
  
  <!--link rel="stylesheet" href="//cdn.jsdelivr.net/highlight.js/9.10.0/styles/github-gist.min.css"-->
  
<link rel="stylesheet" href="//cdn.jsdelivr.net/highlight.js/9.10.0/styles/github-gist.min.css">

  
<link rel="stylesheet" href="/css/style.css">

<meta name="generator" content="Hexo 6.3.0"></head>

<body>
<div class="Shell">
    <aside class='SideBar'>
    <section class='avatar' style="background-image: url()">
        <div class='av-pic' style="background-image: url(https://avatars.githubusercontent.com/u/13995319?v=4)">
        </div>
    </section>
    <section class='menu'>
        <div>Dylan&#39;s blog</div>
        
            <div>To the pursuit of truth.</div>
        
        <ul>
          
            <a href="/" class="Btn">
              <li>Home</li>
            </a>  
          
            <a href="/archives/" class="Btn">
              <li>Archive</li>
            </a>  
          
        </ul>
    </section>
    <section class="media">
        
    </section>
</aside>

    <div class="container">
        <div data-pager-shell>
            <ul class="Index">
  
    <header class='PageTitle'>
        <h1>{ platform }</h1>
    </header>
  
  
    <li>
      <article class='ListView'>
    <header class="title">
      
        <h1>
          <a href="/2015/09/08/2015/2015-09-08_232027-938/">阿里云 ubuntu-x64 python+django+mysql 开发环境搭建</a>
        </h1>
      
      <div class='ListMeta'>
  <time datetime="2015-09-08T23:20:27.000Z" itemprop="datePublished">
    2015-09-08
  </time>
  
  | 
  <ul>
    
  <li class="meta-text">
  { <a href="/tags/django/">django</a> }
  </li>


  </ul>
  
  
  / 
  <ul>
    
  <li class="meta-text">
  { <a href="/categories/platform/">platform</a> }
  </li>

  <li class="meta-text">
  { <a href="/categories/language/">language</a> }
  </li>

  <li class="meta-text">
  { <a href="/categories/platform/Linux-Unix/">Linux/Unix</a> }
  </li>

  <li class="meta-text">
  { <a href="/categories/language/Python/">Python</a> }
  </li>


  </ul>
  
</div>

    </header>
    <div>
      
        <p>本文主要记录使用阿里云搭建 python+django+mysql 的开发环境，因为中间自己遇到了不少问题，整理了正确的步骤避免大家再碰壁而浪费时间。应该把精力花再更有价值的地方。</p>
<p>阿里云服务器已经预装好了 python2.7.6，所以我们无需再次安装  </p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">root@aliyun:~<span class="comment"># python</span></span><br><span class="line">Python 2.7.6 (default, Mar 22 2014, 22:59:56) </span><br><span class="line">\[GCC 4.8.2\] on linux2</span><br><span class="line">Type <span class="string">&quot;help&quot;</span>, <span class="string">&quot;copyright&quot;</span>, <span class="string">&quot;credits&quot;</span> or <span class="string">&quot;license&quot;</span> <span class="keyword">for</span> more information.</span><br></pre></td></tr></table></figure>

<p>首先执行一下 apt-get update 命令来更新一下数据源，避免本地有些软件的地址是错误的导致安装过程中404错误。</p>
<p>mycode@aliyun:~$ sudo apt-get update</p>
<p>配置虚拟环境</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">mycode@aliyun:~$ sudo apt-get install python-virtualenv</span><br><span class="line">mycode@aliyun:~$ sudo easy\_install virtualenvwrapper</span><br><span class="line">mycode@aliyun:~$ <span class="built_in">mkdir</span> <span class="variable">$HOME</span>/.virtualenvs</span><br><span class="line">mycode@aliyun:~$ <span class="built_in">echo</span> <span class="built_in">export</span> WORKON\_HOME=<span class="variable">$HOME</span>/.virtualenvs &gt;&gt; ~/.bashrc</span><br><span class="line">mycode@aliyun:~$ <span class="built_in">echo</span> <span class="built_in">source</span> /usr/local/bin/virtualenvwrapper.sh &gt;&gt; ~/.bashrc</span><br></pre></td></tr></table></figure>

<p>断开终端连接，使用相同用户重新登录，创建虚拟环境</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">mycode@aliyun:~$ mkvirtualenv webchat</span><br><span class="line">New python executable <span class="keyword">in</span> webchat/bin/python</span><br><span class="line">Installing setuptools, pip...done.</span><br><span class="line">(webchat)mycode@aliyun:~$</span><br></pre></td></tr></table></figure>

<p>使用 <strong>mkvirtualenv [虚拟环境名称]</strong> 命令创建虚拟环境后，命令行会直接切换到 webchat 的虚拟环境，在这个虚拟环境中安装的软件需要使用 pip 命令，并且安装的软件并不会在真实系统中，要退出虚拟环境，使用 deactivate 命令，要删除虚拟环境，使用 rmvirtualenv 命令。</p>
<p>在安装 django 环境前，我们还需要安装几个必须的组件。</p>
<p>1、mysql-server</p>
<p>2、mysql-client</p>
<p>3、python-dev</p>
<p>4、libxml2-dev</p>
<p>5、libxslt-dev</p>
<p>6、zlib1g-dev</p>
<p>7、libmysqld-dev</p>
<p>8、<code>libjpeg-dev</code></p>
<p>9、libpcre3</p>
<p>10、libpcre3-dev</p>
<p>在非虚拟环境中，执行如下命令安装我们必备的组件</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mycode@aliyun:~$ sudo apt-get install mysql-server mysql-client python-dev libxml2-dev libxslt-dev zlib1g-dev libmysqld-dev libjpeg-dev</span><br></pre></td></tr></table></figure>

<p>切换到虚拟环境中安装 django 所需的各种组件，这些组件不会被直接安装到系统，因为可能每个项目所需这些组件的版本号不同，所以只在虚拟环境中安装，执行如下命令。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(webchat)mycode@aliyun:~$ pip install Django ipdb ipython lxml MySQL-python Pillow wheel djangorestframework httplib2 requests uWSGI wechat-sdk</span><br></pre></td></tr></table></figure>

<p>创建新的 django 项目</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(webchat)mycode@aliyun:~$ django-admin startproject itcast\_webchat</span><br></pre></td></tr></table></figure>

<p>设置使用 mysql 数据库，进入django开发目录（itcast_webchat&#x2F;itcast_webchat&#x2F;settings.py），编辑 setting.py 配置文件，将如下内容注释</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">#DATABASES = &#123;</span><br><span class="line"># &#x27;default&#x27;: &#123;</span><br><span class="line"># &#x27;ENGINE&#x27;: &#x27;django.db.backends.sqlite3&#x27;,</span><br><span class="line"># &#x27;NAME&#x27;: os.path.join(BASE\_DIR, &#x27;db.sqlite3&#x27;),</span><br><span class="line"># &#125;</span><br><span class="line">#&#125;</span><br></pre></td></tr></table></figure>

<p>添加 mysql 的设置信息，添加完成后会使用 mysql 数据库，要注意，里面设置的 dbname 必须存在，否则你生成数据表的时候会报错找不到这个数据库</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">DATABASES <span class="operator">=</span> &#123;</span><br><span class="line">    <span class="string">&#x27;default&#x27;</span>: &#123;</span><br><span class="line">        <span class="string">&#x27;ENGINE&#x27;</span>: <span class="string">&#x27;django.db.backends.mysql&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;NAME&#x27;</span>: <span class="string">&#x27;dbname&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;USER&#x27;</span>: <span class="string">&#x27;root&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;PASSWORD&#x27;</span>: <span class="string">&#x27;password&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;HOST&#x27;</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;PORT&#x27;</span>: <span class="string">&#x27;3306&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>生成相关数据表</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">(webchat)mycode@aliyun:~$ <span class="built_in">cd</span> itcast\_webchat/</span><br><span class="line">(webchat)mycode@aliyun:~/itcast\_webchat$ python manage.py migrate</span><br><span class="line">Operations to perform:</span><br><span class="line">Apply all migrations: admin, contenttypes, auth, sessions</span><br><span class="line">Running migrations:</span><br><span class="line">Applying contenttypes.0001\_initial... OK</span><br><span class="line">Applying auth.0001\_initial... OK</span><br><span class="line">Applying admin.0001\_initial... OK</span><br><span class="line">Applying sessions.0001\_initial... OK</span><br></pre></td></tr></table></figure>

<p>启动 django 服务</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">(webchat)mycode@aliyun:~/itcast\_webchat$ python manage.py runserver</span><br><span class="line">Performing system checks...</span><br><span class="line"> </span><br><span class="line"></span><br><span class="line">System check identified no issues (0 silenced).</span><br><span class="line">September 08, 2015 - 14:34:31</span><br><span class="line">Django version 1.7.8, using settings <span class="string">&#x27;itcast\_webchat.settings&#x27;</span></span><br><span class="line">Starting development server at http://127.0.0.1:8000/</span><br><span class="line">Quit the server with CONTROL-C.</span><br></pre></td></tr></table></figure>

<p>配置 django 关闭调试并设定可以让所有 IP 访问，进入django开发目录（itcast_webchat&#x2F;itcast_webchat&#x2F;settings.py），编辑 setting.py 配置文件，修改如下两个配置。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">TEMPLATE\_DEBUG = False</span><br><span class="line">ALLOWED\_HOSTS = \[&#x27;\*&#x27;,\]</span><br></pre></td></tr></table></figure>

<p>安装 nginx-1.6.2，将 nginx-1.6.2 的压缩包上传到 linux 服务器或者直接从服务器上下载</p>
<p>解压 nginx 安装包</p>
<p>tar zxvf nginx-1.6.2.tar.gz</p>
<p>cd 进入解压后的 nginx 目录，安装所需组件</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mycode@aliyun:/home/mycode/package/nginx-1.6.2$ sudo apt-get install libpcre3 libpcre3-dev</span><br><span class="line">mycode@aliyun:/home/mycode/package/nginx-1.6.2$ sudo apt-get install libssl-dev</span><br><span class="line">mycode@aliyun:/home/mycode/package/nginx-1.6.2$ sudo apt-get install openssl</span><br></pre></td></tr></table></figure>

<p>执行 nginx 目录下的 configure 执行文件，该文件有两个作用，一个是环境检查，另外一个是生成 makefile</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mycode@aliyun:/home/mycode/package/nginx-1.6.2$ ./configure</span><br></pre></td></tr></table></figure>

<p>编译并安装 nginx</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mycode@aliyun:/home/mycode/package/nginx-1.6.2$ make</span><br><span class="line">mycode@aliyun:/home/mycode/package/nginx-1.6.2$ sudo make install</span><br></pre></td></tr></table></figure>

<p>配置 nginx 反向代理，使用 VIM 编辑 &#x2F;usr&#x2F;local&#x2F;nginx&#x2F;conf&#x2F;nginx.conf 文件，将如下行注释</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">#location / &#123; </span><br><span class="line">#   root html; </span><br><span class="line">#   index index.html index.htm; </span><br><span class="line">#&#125;</span><br></pre></td></tr></table></figure>

<p>添加如下内容到被注释的文字后面，注意粗体标注的位置要改成你自己 django 启动时的地址</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">location / &#123;</span><br><span class="line">    #Django address</span><br><span class="line">    proxy\_pass http://localhost:8000;</span><br><span class="line"></span><br><span class="line">    #Proxy Settings</span><br><span class="line">    proxy\_redirect off;</span><br><span class="line">    proxy\_set\_header Host $host;</span><br><span class="line">    proxy\_set\_header X-Real-IP $remote\_addr;</span><br><span class="line">    proxy\_set\_header X-Forwarded-For $proxy\_add\_x\_forwarded\_for;</span><br><span class="line">    proxy\_next\_upstream error timeout invalid\_header http\_500 http\_502 http\_503 http\_504;</span><br><span class="line">    proxy\_max\_temp\_file\_size 0;</span><br><span class="line">    proxy\_connect\_timeout 90;</span><br><span class="line">    proxy\_send\_timeout 90;</span><br><span class="line">    proxy\_read\_timeout 90;</span><br><span class="line">    proxy\_buffer\_size 4k;</span><br><span class="line">    proxy\_buffers 4 32k;</span><br><span class="line">    proxy\_busy\_buffers\_size 64k;</span><br><span class="line">    proxy\_temp\_file\_write\_size 64k;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>启动 nginx 服务</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mycode@aliyun:~$ /usr/local/nginx/sbin/nginx</span><br></pre></td></tr></table></figure>

<p>访问你阿里云的外网 IP 地址，如果你看到了 It worked! 就是成功了。</p>

      
    </div>
</article>

    </li>
  
    <li>
      <article class='ListView'>
    <header class="title">
      
        <h1>
          <a href="/2015/08/03/2015/2015-08-03_190807-892/">windows 下最小化 tcp/udp 实例</a>
        </h1>
      
      <div class='ListMeta'>
  <time datetime="2015-08-03T19:08:07.000Z" itemprop="datePublished">
    2015-08-03
  </time>
  
  | 
  <ul>
    
  <li class="meta-text">
  { <a href="/tags/%E7%BD%91%E7%BB%9C/">网络</a> }
  </li>


  </ul>
  
  
  / 
  <ul>
    
  <li class="meta-text">
  { <a href="/categories/platform/">platform</a> }
  </li>

  <li class="meta-text">
  { <a href="/categories/Platform/">Platform</a> }
  </li>

  <li class="meta-text">
  { <a href="/categories/platform/Windows/">Windows</a> }
  </li>


  </ul>
  
</div>

    </header>
    <div>
      
        <p>实际 windows 下 socket 编程和 linux 下几乎没有什么区别，函数名、结构体信息等都一模一样的，因为这些并非是操作系统所设计决定的。而是由公共的组织在维护和约定这些规范。在 windows 下唯一与 linux 不同的就是需要自己手动加载套接字库。其他几乎完全一致，参考以下代码。</p>
        
          <div class="more-link">
            <a href="/2015/08/03/2015/2015-08-03_190807-892/#more">Read On »</a>
          </div>
        
      
    </div>
</article>

    </li>
  
    <li>
      <article class='ListView'>
    <header class="title">
      
        <h1>
          <a href="/2015/07/18/2015/2015-07-18_215259-790/">Linux/unix下的IPC-UNIX Domain Socket</a>
        </h1>
      
      <div class='ListMeta'>
  <time datetime="2015-07-18T21:52:59.000Z" itemprop="datePublished">
    2015-07-18
  </time>
  
  | 
  <ul>
    
  <li class="meta-text">
  { <a href="/tags/%E7%BD%91%E7%BB%9C/">网络</a> }
  </li>


  </ul>
  
  
  / 
  <ul>
    
  <li class="meta-text">
  { <a href="/categories/platform/">platform</a> }
  </li>

  <li class="meta-text">
  { <a href="/categories/platform/Linux-Unix/">Linux/Unix</a> }
  </li>

  <li class="meta-text">
  { <a href="/categories/Platform/">Platform</a> }
  </li>


  </ul>
  
</div>

    </header>
    <div>
      
        <p>UNIX Domain Socket 是基于socket发展而来的，是linux&#x2F;unix下一种IPC（Inter-Process Communication 进程间通讯）机制，它无需向内核网络协议栈一样拆包打包，只是将数据从一个进程拷贝到另外一个进程。在这种模式下，无论使用 SOCKET_STREAM 还是 SOCKET_DGRAM 都是可以的，因为同一台电脑上基本上不存在数据丢失的情况，下面的案例实现了一个最小化的 domain socket 模型。</p>
        
          <div class="more-link">
            <a href="/2015/07/18/2015/2015-07-18_215259-790/#more">Read On »</a>
          </div>
        
      
    </div>
</article>

    </li>
  
    <li>
      <article class='ListView'>
    <header class="title">
      
        <h1>
          <a href="/2015/07/18/2015/2015-07-18_213530-787/">socket 实现最小化UDP广播程序</a>
        </h1>
      
      <div class='ListMeta'>
  <time datetime="2015-07-18T21:35:30.000Z" itemprop="datePublished">
    2015-07-18
  </time>
  
  | 
  <ul>
    
  <li class="meta-text">
  { <a href="/tags/%E7%BD%91%E7%BB%9C/">网络</a> }
  </li>


  </ul>
  
  
  / 
  <ul>
    
  <li class="meta-text">
  { <a href="/categories/platform/">platform</a> }
  </li>

  <li class="meta-text">
  { <a href="/categories/platform/Linux-Unix/">Linux/Unix</a> }
  </li>

  <li class="meta-text">
  { <a href="/categories/Platform/">Platform</a> }
  </li>


  </ul>
  
</div>

    </header>
    <div>
      
        <p>广播是某一个终端给一个子网发送数据，这个子网可以是本地的最小化子网，比如 192.168.1.255，也可以是整个子网 255.255.255.255，这取决于你要发送的范围，本文中只介绍一个最小化的广播程序，值得注意的是，即使客户端没有设定IP地址，它依然是可以接收到广播数据的。</p>
        
          <div class="more-link">
            <a href="/2015/07/18/2015/2015-07-18_213530-787/#more">Read On »</a>
          </div>
        
      
    </div>
</article>

    </li>
  
    <li>
      <article class='ListView'>
    <header class="title">
      
        <h1>
          <a href="/2015/07/18/2015/2015-07-18_212408-784/">socket 实现最小化组播（多播）程序</a>
        </h1>
      
      <div class='ListMeta'>
  <time datetime="2015-07-18T21:24:08.000Z" itemprop="datePublished">
    2015-07-18
  </time>
  
  | 
  <ul>
    
  <li class="meta-text">
  { <a href="/tags/%E7%BD%91%E7%BB%9C/">网络</a> }
  </li>


  </ul>
  
  
  / 
  <ul>
    
  <li class="meta-text">
  { <a href="/categories/platform/">platform</a> }
  </li>

  <li class="meta-text">
  { <a href="/categories/platform/Linux-Unix/">Linux/Unix</a> }
  </li>

  <li class="meta-text">
  { <a href="/categories/Platform/">Platform</a> }
  </li>


  </ul>
  
</div>

    </header>
    <div>
      
        <p>组播是在局域网中向一个子网内加入了某个组播组的客户端发送批量发送数据，它类似于广播但并非广播，组播的地址有固定的几种，本案例中使用了239.0.0.2这个组播地址，具体实现代码分客户端和服务端，请参考：</p>
        
          <div class="more-link">
            <a href="/2015/07/18/2015/2015-07-18_212408-784/#more">Read On »</a>
          </div>
        
      
    </div>
</article>

    </li>
  
    <li>
      <article class='ListView'>
    <header class="title">
      
        <h1>
          <a href="/2015/07/18/2015/2015-07-18_211434-782/">epoll 基于非阻塞I/O事件驱动</a>
        </h1>
      
      <div class='ListMeta'>
  <time datetime="2015-07-18T21:14:34.000Z" itemprop="datePublished">
    2015-07-18
  </time>
  
  | 
  <ul>
    
  <li class="meta-text">
  { <a href="/tags/%E7%BD%91%E7%BB%9C/">网络</a> }
  </li>


  </ul>
  
  
  / 
  <ul>
    
  <li class="meta-text">
  { <a href="/categories/platform/">platform</a> }
  </li>

  <li class="meta-text">
  { <a href="/categories/platform/Linux-Unix/">Linux/Unix</a> }
  </li>

  <li class="meta-text">
  { <a href="/categories/Platform/">Platform</a> }
  </li>


  </ul>
  
</div>

    </header>
    <div>
      
        <p>该程序来源于<a target="_blank" rel="noopener" href="http://www.itcast.cn/">传智博客</a>教师课件，本人只是自己对照着写了一遍并做了注释，该模型可以承载大量客户端的连接二不会出现卡顿等情况，前提是我们交互的数据很少，如果交互数据较大，该例子还是有些小问题的。大家可以自己拓展，配合多线程可以实现大数据多客户端连接传输的程序。具体代码如下：</p>
        
          <div class="more-link">
            <a href="/2015/07/18/2015/2015-07-18_211434-782/#more">Read On »</a>
          </div>
        
      
    </div>
</article>

    </li>
  
    <li>
      <article class='ListView'>
    <header class="title">
      
        <h1>
          <a href="/2015/07/11/2015/2015-07-11_115554-778/">socket 实现服务端客户端时间同步</a>
        </h1>
      
      <div class='ListMeta'>
  <time datetime="2015-07-11T11:55:54.000Z" itemprop="datePublished">
    2015-07-11
  </time>
  
  | 
  <ul>
    
  <li class="meta-text">
  { <a href="/tags/%E7%BD%91%E7%BB%9C/">网络</a> }
  </li>


  </ul>
  
  
  / 
  <ul>
    
  <li class="meta-text">
  { <a href="/categories/platform/">platform</a> }
  </li>

  <li class="meta-text">
  { <a href="/categories/platform/Linux-Unix/">Linux/Unix</a> }
  </li>

  <li class="meta-text">
  { <a href="/categories/Platform/">Platform</a> }
  </li>


  </ul>
  
</div>

    </header>
    <div>
      
        <p>这个小案例主要是演示了服务端客户端通信，时间获取和设定的函数均是从网络上查询的，代码可以顺利编译运行，具体请查看代码和注释。</p>
        
          <div class="more-link">
            <a href="/2015/07/11/2015/2015-07-11_115554-778/#more">Read On »</a>
          </div>
        
      
    </div>
</article>

    </li>
  
    <li>
      <article class='ListView'>
    <header class="title">
      
        <h1>
          <a href="/2015/07/11/2015/2015-07-11_114330-772/">多路 io 转接模型 select/poll</a>
        </h1>
      
      <div class='ListMeta'>
  <time datetime="2015-07-11T11:43:30.000Z" itemprop="datePublished">
    2015-07-11
  </time>
  
  | 
  <ul>
    
  <li class="meta-text">
  { <a href="/tags/%E8%BF%9B%E7%A8%8B-%E7%BA%BF%E7%A8%8B/">进程/线程</a> }
  </li>

  <li class="meta-text">
  { <a href="/tags/%E7%BD%91%E7%BB%9C/">网络</a> }
  </li>


  </ul>
  
  
  / 
  <ul>
    
  <li class="meta-text">
  { <a href="/categories/platform/">platform</a> }
  </li>

  <li class="meta-text">
  { <a href="/categories/platform/Linux-Unix/">Linux/Unix</a> }
  </li>

  <li class="meta-text">
  { <a href="/categories/Platform/">Platform</a> }
  </li>


  </ul>
  
</div>

    </header>
    <div>
      
        <p>多路io转发服务器模型也是为了解决大并发多客户端场景下的问题，比多进程、多线程开销要少。多进程多线程常规情况下都是使用 accept 或 read 函数在阻塞等接收客户端发送过来的数据，而多路io模型则是提供了一个系统函数，该函数负责阻塞判断各路被监控的文件描述符是否有数据读取或写入操作，当有数据读取或写入时再让 accept 或 read 去直接处理从而不会阻塞，系统函数可能会同时返回多个有数据的文件描述符等待后面的代码处理，所以效率上要比多进程和多线程同时只在一个位置阻塞获取数据效率要高一些，下面就介绍一下多路 io 模型 select 和 poll，poll 模型较 select 模型还存在一些优势，在本文后面将介绍。</p>
        
          <div class="more-link">
            <a href="/2015/07/11/2015/2015-07-11_114330-772/#more">Read On »</a>
          </div>
        
      
    </div>
</article>

    </li>
  
    <li>
      <article class='ListView'>
    <header class="title">
      
        <h1>
          <a href="/2015/07/11/2015/2015-07-11_104444-764/">socket 多进程/多线程模型实现</a>
        </h1>
      
      <div class='ListMeta'>
  <time datetime="2015-07-11T10:44:44.000Z" itemprop="datePublished">
    2015-07-11
  </time>
  
  | 
  <ul>
    
  <li class="meta-text">
  { <a href="/tags/%E8%BF%9B%E7%A8%8B-%E7%BA%BF%E7%A8%8B/">进程/线程</a> }
  </li>

  <li class="meta-text">
  { <a href="/tags/%E7%BD%91%E7%BB%9C/">网络</a> }
  </li>


  </ul>
  
  
  / 
  <ul>
    
  <li class="meta-text">
  { <a href="/categories/platform/">platform</a> }
  </li>

  <li class="meta-text">
  { <a href="/categories/platform/Linux-Unix/">Linux/Unix</a> }
  </li>

  <li class="meta-text">
  { <a href="/categories/Platform/">Platform</a> }
  </li>


  </ul>
  
</div>

    </header>
    <div>
      
        <p>前文我们实现了一个 socket 最小的实现，它只允许一台终端连接到服务器进行数据通信，但这样的程序对我们来说没有什么意义，所以我们一定要实现多个客户端与一个服务端通信交互数据，这样才能真正派上用场，所以本文主要介绍了两种实现多客户端连接的方案，一种是多进程，一种是多线程，两种性能相差无几，但明显多线程在资源方面明显要比多进程消耗要少的多。</p>
        
          <div class="more-link">
            <a href="/2015/07/11/2015/2015-07-11_104444-764/#more">Read On »</a>
          </div>
        
      
    </div>
</article>

    </li>
  
    <li>
      <article class='ListView'>
    <header class="title">
      
        <h1>
          <a href="/2015/07/07/2015/2015-07-07_201849-758/">linux/unix socket 最简单实例演示</a>
        </h1>
      
      <div class='ListMeta'>
  <time datetime="2015-07-07T20:18:49.000Z" itemprop="datePublished">
    2015-07-07
  </time>
  
  | 
  <ul>
    
  <li class="meta-text">
  { <a href="/tags/%E7%BD%91%E7%BB%9C/">网络</a> }
  </li>


  </ul>
  
  
  / 
  <ul>
    
  <li class="meta-text">
  { <a href="/categories/platform/">platform</a> }
  </li>

  <li class="meta-text">
  { <a href="/categories/platform/Linux-Unix/">Linux/Unix</a> }
  </li>

  <li class="meta-text">
  { <a href="/categories/Platform/">Platform</a> }
  </li>


  </ul>
  
</div>

    </header>
    <div>
      
        <p>今日开始接触 socket 网络编程，下面实例演示了服务器和客户端创建连接的流程，以及 socket 编程中需要使用的常见函数的使用方法。我们遵循下图的案例编写了一个服务端和一个客户端，目的只为写清楚每个函数的使用方法，所以只支持了一个客户端，也可以在 accept 后创建新的线程来维护客户端之间的通讯。具体参见图片和代码。</p>
        
          <div class="more-link">
            <a href="/2015/07/07/2015/2015-07-07_201849-758/#more">Read On »</a>
          </div>
        
      
    </div>
</article>

    </li>
  
</ul>

  <section id="nav-wrapper">
    <nav id="page-nav">
      <a class="extend prev" rel="prev" href="/categories/platform/page/7/">« prev</a><a class="page-number" href="/categories/platform/">1</a><span class="space">&hellip;</span><a class="page-number" href="/categories/platform/page/6/">6</a><a class="page-number" href="/categories/platform/page/7/">7</a><span class="page-number current">8</span><a class="page-number" href="/categories/platform/page/9/">9</a><a class="page-number" href="/categories/platform/page/10/">10</a><a class="page-number" href="/categories/platform/page/11/">11</a><a class="extend next" rel="next" href="/categories/platform/page/9/">next »</a>
    </nav>
  </section>


            <footer>
    <div>© 2023 - Dylan </div>
    <div>
        <span>
            Powered by <a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a>
        </span>
        ,
        <span>
            Theme - <a target="_blank" rel="noopener" href="https://github.com/nameoverflow/hexo-theme-icalm">Icalm</a>
        </span>
    </div>
</footer>

        </div>
    </div>
</div>

<script src="/js/pager/dist/singlepager.js"></script>

<script>
var sp = new Pager('data-pager-shell')

</script>
</body>
</html>